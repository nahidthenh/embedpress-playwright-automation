# Test info

- Name: Classic YouTube >> Copy URL Form Share Icon
- Location: /home/runner/work/embedpress-playwright-automation/embedpress-playwright-automation/tests/classic/google/youtube.spec.js:27:5

# Error details

```
Error: Timed out 5000ms waiting for expect(locator).toBeVisible()

Locator: getByText('Copy URL Form Share Icon')
Expected: visible
Received: <element(s) not found>
Call log:
  - expect.toBeVisible with timeout 5000ms
  - waiting for getByText('Copy URL Form Share Icon')

    at /home/runner/work/embedpress-playwright-automation/embedpress-playwright-automation/tests/classic/google/youtube.spec.js:28:66
```

# Page snapshot

```yaml
- navigation "Toolbar":
  - menu:
    - group:
      - menuitem "About WordPress"
      - menu "About WordPress":
        - group:
          - menuitem "About WordPress"
        - group:
          - menuitem "Get Involved"
      - menu "About WordPress":
        - group:
          - menuitem "WordPress.org"
        - group:
          - menuitem "Documentation"
        - group:
          - menuitem "Learn WordPress"
        - group:
          - menuitem "Support"
        - group:
          - menuitem "Feedback"
    - group:
      - menuitem " EmbedPress Automation Testing"
    - group:
      - menuitem " Customize"
    - group:
      - menuitem "1 update available"
    - group:
      - menuitem "0 Comments in moderation"
    - group:
      - menuitem "New"
    - group:
      - menuitem " Edit Page"
    - group:
      - menuitem "PHP Fatal Error"
    - group:
      - menuitem "Scheduled Posts (0)"
  - menu:
    - group:
      - menuitem "Howdy, Md. Nahid Hasan"
    - group:
      - menuitem " Search":
        - text: 
        - textbox "Search"
        - text: Search
- link "Skip to content":
  - /url: "#main"
- banner:
  - navigation "Primary Navigation":
    - list:
      - listitem:
        - link "Home":
          - /url: https://embedpress.wpqa.site/
      - listitem:
        - link "Random Gutenberg":
          - /url: https://embedpress.wpqa.site/random-gutenberg/
      - listitem:
        - link "Random Elementor":
          - /url: https://embedpress.wpqa.site/random-elementor/
      - listitem:
        - link "Random Classic":
          - /url: https://embedpress.wpqa.site/random-classic/
      - listitem:
        - link "Automation Report":
          - /url: https://nahidthenh.github.io/embedpress-playwright-automation/
      - listitem:
        - link "Md. Nahid Hasan (Admin)":
          - /url: https://embedpress.wpqa.site/wp-admin
  - paragraph
  - search "Search form":
    - searchbox "Search input"
    - textbox "Search autocomplete" [disabled]
  - button "Search magnifier":
    - img
  - paragraph
- heading "Classic YouTube" [level=1]
- main:
  - article:
    - paragraph: "Uncaught Error: Class \"Embera\\ProviderCollection\\DefaultProviderCollection\" not found in /var/www/embedpress.wpqa.site/wp-content/plugins/embedpress/EmbedPress/Shortcode.php on line 608"
    - paragraph: "Call stack:"
    - list:
      - listitem:
        - code: EmbedPress\Shortcode::addServiceProvider()
        - text: wp-content/plugins/embedpress/EmbedPress/Shortcode.php:579
      - listitem:
        - code: EmbedPress\Shortcode::get_embera_instance()
        - text: wp-content/plugins/embedpress/EmbedPress/Includes/Classes/Helper.php:1654
      - listitem:
        - code: EmbedPress\I\C\Helper::get_provider_name()
        - text: wp-content/plugins/embedpress/EmbedPress/Shortcode.php:345
      - listitem:
        - code: EmbedPress\Shortcode::parseContent()
        - text: wp-content/plugins/embedpress/EmbedPress/Shortcode.php:190
      - listitem:
        - code: EmbedPress\Shortcode::do_shortcode()
        - text: wp-includes/shortcodes.php:434
      - listitem:
        - code: do_shortcode_tag()
      - listitem:
        - code: preg_replace_callback()
        - text: wp-includes/shortcodes.php:273
      - listitem:
        - code: do_shortcode()
        - text: wp-includes/class-wp-hook.php:324
      - listitem:
        - code: WP_Hook::apply_filters()
        - text: wp-includes/plugin.php:205
      - listitem:
        - code: apply_filters()
        - text: wp-includes/post-template.php:256
      - listitem:
        - code: the_content()
        - text: wp-content/themes/kadence/template-parts/content/entry_content.php:16
      - listitem:
        - code: require('/var/www/embedpress....nt/entry_content.php')
        - text: wp-includes/template.php:812
      - listitem:
        - code: load_template()
        - text: wp-includes/template.php:745
      - listitem:
        - code: locate_template()
        - text: wp-includes/general-template.php:206
      - listitem:
        - code: get_template_part()
        - text: wp-content/themes/kadence/template-parts/content/single-entry.php:28
      - listitem:
        - code: require('/var/www/embedpress....ent/single-entry.php')
        - text: wp-includes/template.php:812
      - listitem:
        - code: load_template()
        - text: wp-includes/template.php:745
      - listitem:
        - code: locate_template()
        - text: wp-includes/general-template.php:206
      - listitem:
        - code: get_template_part()
        - text: wp-content/themes/kadence/inc/template-functions/single-functions.php:27
      - listitem:
        - code: Kadence\single_content()
        - text: wp-includes/class-wp-hook.php:324
      - listitem:
        - code: WP_Hook::apply_filters()
        - text: wp-includes/class-wp-hook.php:348
      - listitem:
        - code: WP_Hook::do_action()
        - text: wp-includes/plugin.php:517
      - listitem:
        - code: do_action()
        - text: wp-content/themes/kadence/template-parts/content/single.php:34
      - listitem:
        - code: require('/var/www/embedpress....s/content/single.php')
        - text: wp-includes/template.php:812
      - listitem:
        - code: load_template()
        - text: wp-includes/template.php:745
      - listitem:
        - code: locate_template()
        - text: wp-includes/general-template.php:206
      - listitem:
        - code: get_template_part()
        - text: wp-content/themes/kadence/inc/template-functions/single-functions.php:20
      - listitem:
        - code: Kadence\single_markup()
        - text: wp-includes/class-wp-hook.php:324
      - listitem:
        - code: WP_Hook::apply_filters()
        - text: wp-includes/class-wp-hook.php:348
      - listitem:
        - code: WP_Hook::do_action()
        - text: wp-includes/plugin.php:517
      - listitem:
        - code: do_action()
        - text: wp-content/themes/kadence/page.php:20
      - listitem:
        - code: include('/var/www/embedpress....mes/kadence/page.php')
        - text: wp-includes/template-loader.php:106
      - listitem:
        - code: require_once('/var/www/embedpress..../template-loader.php')
        - text: wp-blog-header.php:19
      - listitem:
        - code: require('/var/www/embedpress.wpqa.site/wp-blog-header.php')
        - text: index.php:17
    - heading "Query Monitor" [level=2]
```

# Test source

```ts
   1 | const { test, expect } = require('@playwright/test');
   2 |
   3 | let slug = 'playwright-classic-editor/classic-youtube/';
   4 | test.use({ storageState: 'playwright/.auth/user.json' });
   5 |
   6 |
   7 | test.describe("Classic YouTube", () => {
   8 |     test.beforeEach(async ({ page }) => {
   9 |         await page.goto(slug);
  10 |     });
  11 |
  12 |     test('Default YouTube', async ({ page }) => {
  13 |         await expect(page.getByText('Default YouTube')).toBeVisible();
  14 |         await expect(page.frameLocator('iframe[title="Full Restoration 40 Years Old ruined Classic Motorcycle"] >> nth=0').locator('.ytp-cued-thumbnail-overlay-image')).toBeVisible();
  15 |         await expect(page.frameLocator('iframe[title="Full Restoration 40 Years Old ruined Classic Motorcycle"] >> nth=0').getByLabel('Play', { exact: true })).toBeVisible();
  16 |         await expect(page.frameLocator('iframe[title="Full Restoration 40 Years Old ruined Classic Motorcycle"] >> nth=0').getByRole('button', { name: 'Share' })).toBeVisible();
  17 |     });
  18 |
  19 |     test('Copy URL Form URL Box On Top', async ({ page }) => {
  20 |         await expect(page.getByText('Copy URL Form URL Box On Top')).toBeVisible();
  21 |         await expect(page.frameLocator('iframe[title="Full Restoration 40 Years Old ruined Classic Motorcycle"] >> nth=1').locator('.ytp-cued-thumbnail-overlay-image')).toBeVisible();
  22 |         await expect(page.frameLocator('iframe[title="Full Restoration 40 Years Old ruined Classic Motorcycle"] >> nth=1').getByLabel('Play', { exact: true })).toBeVisible();
  23 |         await expect(page.frameLocator('iframe[title="Full Restoration 40 Years Old ruined Classic Motorcycle"] >> nth=1').getByRole('button', { name: 'Share' })).toBeVisible();
  24 |
  25 |     });
  26 |
  27 |     test('Copy URL Form Share Icon', async ({ page }) => {
> 28 |         await expect(page.getByText('Copy URL Form Share Icon')).toBeVisible();
     |                                                                  ^ Error: Timed out 5000ms waiting for expect(locator).toBeVisible()
  29 |         await expect(page.frameLocator('iframe[title="Full Restoration 40 Years Old ruined Classic Motorcycle"] >> nth=2').locator('.ytp-cued-thumbnail-overlay-image')).toBeVisible();
  30 |         await expect(page.frameLocator('iframe[title="Full Restoration 40 Years Old ruined Classic Motorcycle"] >> nth=2').getByLabel('Play', { exact: true })).toBeVisible();
  31 |         await expect(page.frameLocator('iframe[title="Full Restoration 40 Years Old ruined Classic Motorcycle"] >> nth=2').getByRole('button', { name: 'Share' })).toBeVisible();
  32 |
  33 |     });
  34 |
  35 |     test('Copy URL Form Embed Code', async ({ page }) => {
  36 |         // test.skip(process.env.CI, 'Skipping this test in CI');
  37 |         // // Navigate to the WordPress plugins page
  38 |         // await page.goto('https://embedpress.wpqa.site/wp-admin/plugins.php?plugin_status=all&paged=1&s');
  39 |
  40 |         // // Locator for the Classic Editor plugin row
  41 |         // const pluginRow = page.locator('tr[data-slug="classic-editor"]');
  42 |
  43 |         // // Check if the "Deactivate" button is visible (meaning the plugin is already active)
  44 |         // const isActive = await pluginRow.locator('a', { hasText: 'Deactivate' }).isVisible();
  45 |
  46 |         // if (!isActive) {
  47 |         //     // If inactive, activate the Classic Editor plugin
  48 |         //     const activateButton = pluginRow.locator('a', { hasText: 'Activate' });
  49 |         //     await activateButton.click();
  50 |
  51 |         //     // Ensure the plugin is activated
  52 |         //     await expect(pluginRow.locator('a', { hasText: 'Deactivate' })).toBeVisible();
  53 |         // }
  54 |
  55 |         await page.goto('playwright-classic-editor/classic-youtube/');
  56 |         await expect(page.getByText('Copy URL Form Embed Code')).toBeVisible();
  57 |         await expect(page.frameLocator('iframe[title="Full Restoration 40 Years Old ruined Classic Motorcycle"] >> nth=3').locator('.ytp-cued-thumbnail-overlay-image')).toBeVisible();
  58 |         await expect(page.frameLocator('iframe[title="Full Restoration 40 Years Old ruined Classic Motorcycle"] >> nth=3').getByLabel('Play', { exact: true })).toBeVisible();
  59 |         await expect(page.frameLocator('iframe[title="Full Restoration 40 Years Old ruined Classic Motorcycle"] >> nth=3').getByRole('button', { name: 'Share' })).toBeVisible();
  60 |     });
  61 | });
```