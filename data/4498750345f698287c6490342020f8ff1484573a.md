# Test info

- Name: Elementor Modern PDF >> To Enable Few Controls
- Location: /home/runner/work/embedpress-playwright-automation/embedpress-playwright-automation/tests/elementor/modern_pdf.spec.js:81:5

# Error details

```
Error: Timed out 5000ms waiting for expect(locator).toBeVisible()

Locator: locator('#ep-elementor-content-9a5be7a iframe[title="sample_pdf"]').contentFrame().getByRole('radio', { name: 'Text' })
Expected: visible
Received: <element(s) not found>
Call log:
  - expect.toBeVisible with timeout 5000ms
  - waiting for locator('#ep-elementor-content-9a5be7a iframe[title="sample_pdf"]').contentFrame().getByRole('radio', { name: 'Text' })

    at /home/runner/work/embedpress-playwright-automation/embedpress-playwright-automation/tests/elementor/modern_pdf.spec.js:105:85
```

# Page snapshot

```yaml
- heading "Error establishing a database connection" [level=1]
```

# Test source

```ts
   5 |
   6 | test.describe("Elementor Modern PDF", () => {
   7 |     test.beforeEach(async ({ page }) => {
   8 |         await page.goto(slug);
   9 |         // await page.waitForLoadState('networkidle');
   10 |     });
   11 |
   12 |     test('To Enable All Controls', async ({ page }) => {
   13 |         const frameSelector = '#ep-elementor-content-60c5872 iframe[title="sample_pdf"]';
   14 |         await page.waitForSelector(frameSelector, { state: 'visible' });
   15 |         const mainFrame = page.frameLocator(frameSelector);
   16 |
   17 |         const controls = [
   18 |             { role: 'button', name: 'Zoom In' },
   19 |             { role: 'button', name: 'Zoom Out' },
   20 |             { role: 'button', name: 'Presentation Mode' },
   21 |             { role: 'button', name: 'Print' },
   22 |             { role: 'button', name: 'Save' },
   23 |             { role: 'button', name: 'Toggle Sidebar' },
   24 |             { role: 'button', name: 'Find' },
   25 |             { role: 'button', name: 'Next' },
   26 |             { role: 'spinbutton', name: 'Page' },
   27 |         ];
   28 |
   29 |         // Check visibility of all controls
   30 |         for (const control of controls) {
   31 |             await expect(mainFrame.getByRole(control.role, { name: control.name })).toBeVisible();
   32 |         }
   33 |
   34 |         // Perform additional actions
   35 |         await mainFrame.getByRole('button', { name: 'Tools' }).click();
   36 |
   37 |         const extraElements = [
   38 |             { selector: '#scaleSelect' },
   39 |             { text: 'of ⁨4⁩' },
   40 |             { selector: '#secondaryPrint' },
   41 |             { selector: '#secondaryDownload' },
   42 |         ];
   43 |
   44 |         // Check visibility of extra elements
   45 |         for (const element of extraElements) {
   46 |             if (element.selector) {
   47 |                 await expect(mainFrame.locator(element.selector)).toBeVisible();
   48 |             } else if (element.text) {
   49 |                 await expect(mainFrame.getByText(element.text)).toBeVisible();
   50 |             }
   51 |         }
   52 |
   53 |         const toolsControls = [
   54 |             { role: 'button', name: 'Tools' },
   55 |             { role: 'link', name: 'Current Page' },
   56 |             { role: 'button', name: 'Go to Last Page' },
   57 |             { role: 'button', name: 'Rotate Clockwise' },
   58 |             { role: 'button', name: 'Rotate Counterclockwise' },
   59 |             { role: 'radio', name: 'Text Selection Tool' },
   60 |             { role: 'radio', name: 'Hand Tool' },
   61 |             { role: 'radio', name: 'Page Scrolling' },
   62 |             { role: 'radio', name: 'Vertical Scrolling' },
   63 |             { role: 'radio', name: 'Horizontal Scrolling' },
   64 |             { role: 'radio', name: 'Wrapped Scrolling' },
   65 |             { role: 'radio', name: 'No Spreads' },
   66 |             { role: 'radio', name: 'Odd Spreads' },
   67 |             { role: 'radio', name: 'Even Spreads' },
   68 |             { role: 'button', name: 'Document Properties…' },
   69 |         ];
   70 |         // Check visibility of all controls
   71 |         for (const toolsTontrol of toolsControls) {
   72 |             await expect(mainFrame.getByRole(toolsTontrol.role, { name: toolsTontrol.name })).toBeVisible();
   73 |         }
   74 |
   75 |         await mainFrame.getByRole('button', { name: 'Document Properties…' }).click();
   76 |         await expect(page.frameLocator('iframe[title="sample_pdf"]').nth(0).getByText('File name: sample_pdf.pdf File size: ⁨86.2⁩ KB (⁨88,226⁩ bytes) Title: PDF')).toBeVisible();
   77 |     });
   78 |
   79 |
   80 |
   81 |     test('To Enable Few Controls', async ({ page }) => {
   82 |         const frameSelector = '#ep-elementor-content-9a5be7a iframe[title="sample_pdf"]';
   83 |         const mainFrame = page.frameLocator(frameSelector);
   84 |
   85 |         const controls = [
   86 |             { role: 'radio', name: 'Text' },
   87 |             { role: 'radio', name: 'Draw' },
   88 |             { role: 'radio', name: 'Add or edit images' },
   89 |             { role: 'button', name: 'Zoom In' },
   90 |             { role: 'button', name: 'Zoom Out' },
   91 |             { role: 'button', name: 'Toggle Sidebar' },
   92 |             { role: 'button', name: 'Find' },
   93 |             { role: 'button', name: 'Next' },
   94 |             { role: 'spinbutton', name: 'Page' },
   95 |             { role: 'button', name: 'Tools' }
   96 |         ];
   97 |
   98 |         const extraElements = [
   99 |             { selector: '#scaleSelect' },
  100 |             { text: 'of ⁨4⁩' },
  101 |         ];
  102 |
  103 |         // Check visibility of all controls
  104 |         for (const control of controls) {
> 105 |             await expect(mainFrame.getByRole(control.role, { name: control.name })).toBeVisible();
      |                                                                                     ^ Error: Timed out 5000ms waiting for expect(locator).toBeVisible()
  106 |         }
  107 |
  108 |         // Check visibility of extra elements
  109 |         for (const element of extraElements) {
  110 |             if (element.selector) {
  111 |                 await expect(mainFrame.locator(element.selector)).toBeVisible();
  112 |             } else if (element.text) {
  113 |                 await expect(mainFrame.getByText(element.text)).toBeVisible();
  114 |             }
  115 |         }
  116 |
  117 |         // Perform additional actions
  118 |         await mainFrame.getByRole('button', { name: 'Tools' }).click();
  119 |
  120 |
  121 |         const toolsControls = [
  122 |             { role: 'link', name: 'Current Page' },
  123 |             { role: 'button', name: 'Go to Last Page' },
  124 |             { role: 'button', name: 'Rotate Clockwise' },
  125 |             { role: 'button', name: 'Rotate Counterclockwise' },
  126 |             { role: 'radio', name: 'Text Selection Tool' },
  127 |             { role: 'radio', name: 'Hand Tool' },
  128 |             { role: 'radio', name: 'Page Scrolling' },
  129 |             { role: 'radio', name: 'Vertical Scrolling' },
  130 |             { role: 'radio', name: 'Horizontal Scrolling' },
  131 |             { role: 'radio', name: 'Wrapped Scrolling' },
  132 |             { role: 'radio', name: 'No Spreads' },
  133 |             { role: 'radio', name: 'Odd Spreads' },
  134 |             { role: 'radio', name: 'Even Spreads' },
  135 |         ];
  136 |         // Check visibility of all controls
  137 |         for (const toolControl of toolsControls) {
  138 |             await expect(mainFrame.getByRole(toolControl.role, { name: toolControl.name })).toBeVisible();
  139 |         }
  140 |
  141 |     });
  142 |
  143 | });
```