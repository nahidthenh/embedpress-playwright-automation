# Test info

- Name: Classic YouTube >> Copy URL Form Share Icon
- Location: /home/runner/work/embedpress-playwright-automation/embedpress-playwright-automation/tests/classic/youtube.spec.js:27:5

# Error details

```
Error: page.goto: net::ERR_ABORTED; maybe frame was detached?
Call log:
  - navigating to "https://embedpress.wpqa.site/playwright-classic-editor/classic-youtube/", waiting until "load"

    at /home/runner/work/embedpress-playwright-automation/embedpress-playwright-automation/tests/classic/youtube.spec.js:9:20
```

# Test source

```ts
   1 | const { test, expect } = require('@playwright/test');
   2 |
   3 | let slug = 'playwright-classic-editor/classic-youtube/';
   4 | test.use({ storageState: 'playwright/.auth/user.json' });
   5 |
   6 |
   7 | test.describe("Classic YouTube", () => {
   8 |     test.beforeEach(async ({ page }) => {
>  9 |         await page.goto(slug);
     |                    ^ Error: page.goto: net::ERR_ABORTED; maybe frame was detached?
  10 |     });
  11 |
  12 |     test('Default YouTube', async ({ page }) => {
  13 |         await expect(page.getByText('Default YouTube')).toBeVisible();
  14 |         await expect(page.frameLocator('iframe[title="Full Restoration 40 Years Old ruined Classic Motorcycle"] >> nth=0').locator('.ytp-cued-thumbnail-overlay-image')).toBeVisible();
  15 |         await expect(page.frameLocator('iframe[title="Full Restoration 40 Years Old ruined Classic Motorcycle"] >> nth=0').getByLabel('Play', { exact: true })).toBeVisible();
  16 |         await expect(page.frameLocator('iframe[title="Full Restoration 40 Years Old ruined Classic Motorcycle"] >> nth=0').getByRole('button', { name: 'Share' })).toBeVisible();
  17 |     });
  18 |
  19 |     test('Copy URL Form URL Box On Top', async ({ page }) => {
  20 |         await expect(page.getByText('Copy URL Form URL Box On Top')).toBeVisible();
  21 |         await expect(page.frameLocator('iframe[title="Full Restoration 40 Years Old ruined Classic Motorcycle"] >> nth=1').locator('.ytp-cued-thumbnail-overlay-image')).toBeVisible();
  22 |         await expect(page.frameLocator('iframe[title="Full Restoration 40 Years Old ruined Classic Motorcycle"] >> nth=1').getByLabel('Play', { exact: true })).toBeVisible();
  23 |         await expect(page.frameLocator('iframe[title="Full Restoration 40 Years Old ruined Classic Motorcycle"] >> nth=1').getByRole('button', { name: 'Share' })).toBeVisible();
  24 |
  25 |     });
  26 |
  27 |     test('Copy URL Form Share Icon', async ({ page }) => {
  28 |         await expect(page.getByText('Copy URL Form Share Icon')).toBeVisible();
  29 |         await expect(page.frameLocator('iframe[title="Full Restoration 40 Years Old ruined Classic Motorcycle"] >> nth=2').locator('.ytp-cued-thumbnail-overlay-image')).toBeVisible();
  30 |         await expect(page.frameLocator('iframe[title="Full Restoration 40 Years Old ruined Classic Motorcycle"] >> nth=2').getByLabel('Play', { exact: true })).toBeVisible();
  31 |         await expect(page.frameLocator('iframe[title="Full Restoration 40 Years Old ruined Classic Motorcycle"] >> nth=2').getByRole('button', { name: 'Share' })).toBeVisible();
  32 |
  33 |     });
  34 |
  35 |     test('Copy URL Form Embed Code', async ({ page }) => {
  36 |         test.skip(process.env.CI, 'Skipping this test in CI');
  37 |         // Navigate to the WordPress plugins page
  38 |         await page.goto('https://embedpress.wpqa.site/wp-admin/plugins.php?plugin_status=all&paged=1&s');
  39 |
  40 |         // Locator for the Classic Editor plugin row
  41 |         const pluginRow = page.locator('tr[data-slug="classic-editor"]');
  42 |
  43 |         // Check if the "Deactivate" button is visible (meaning the plugin is already active)
  44 |         const isActive = await pluginRow.locator('a', { hasText: 'Deactivate' }).isVisible();
  45 |
  46 |         if (!isActive) {
  47 |             // If inactive, activate the Classic Editor plugin
  48 |             const activateButton = pluginRow.locator('a', { hasText: 'Activate' });
  49 |             await activateButton.click();
  50 |
  51 |             // Ensure the plugin is activated
  52 |             await expect(pluginRow.locator('a', { hasText: 'Deactivate' })).toBeVisible();
  53 |         }
  54 |
  55 |         await page.goto('https://embedpress.wpqa.site/playwright-classic-editor/classic-youtube/');
  56 |         await expect(page.getByText('Copy URL Form Embed Code')).toBeVisible();
  57 |         await expect(page.frameLocator('iframe[title="Full Restoration 40 Years Old ruined Classic Motorcycle"] >> nth=3').locator('.ytp-cued-thumbnail-overlay-image')).toBeVisible();
  58 |         await expect(page.frameLocator('iframe[title="Full Restoration 40 Years Old ruined Classic Motorcycle"] >> nth=3').getByLabel('Play', { exact: true })).toBeVisible();
  59 |         await expect(page.frameLocator('iframe[title="Full Restoration 40 Years Old ruined Classic Motorcycle"] >> nth=3').getByRole('button', { name: 'Share' })).toBeVisible();
  60 |     });
  61 | });
```