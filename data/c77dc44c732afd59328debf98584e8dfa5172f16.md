# Test info

- Name: Gutenberg Flip Book PDF >> To Enable Few Controls
- Location: /home/runner/work/embedpress-playwright-automation/embedpress-playwright-automation/tests/gutenberg/pdf/flip_book_pdf.spec.js:68:5

# Error details

```
Error: Timed out 5000ms waiting for expect(locator).toBeVisible()

Locator: locator('#embedpress-pdf-1722764800761 iframe[title="sample_pdf"]').contentFrame().locator('iframe[title="View"]').contentFrame().locator('li').filter({ hasText: 'Smart pan Single page Sounds' }).getByRole('link')
Expected: visible
Received: <element(s) not found>
Call log:
  - expect.toBeVisible with timeout 5000ms
  - waiting for locator('#embedpress-pdf-1722764800761 iframe[title="sample_pdf"]').contentFrame().locator('iframe[title="View"]').contentFrame().locator('li').filter({ hasText: 'Smart pan Single page Sounds' }).getByRole('link')

    at /home/runner/work/embedpress-playwright-automation/embedpress-playwright-automation/tests/gutenberg/pdf/flip_book_pdf.spec.js:84:43
```

# Page snapshot

```yaml
- link "Skip to content":
  - /url: "#main"
- banner:
  - navigation "Primary Navigation":
    - list:
      - listitem:
        - link "Home":
          - /url: https://embedpress.wpqa.site/
      - listitem:
        - link "Random Gutenberg":
          - /url: https://embedpress.wpqa.site/random-gutenberg/
      - listitem:
        - link "Random Elementor":
          - /url: https://embedpress.wpqa.site/random-elementor/
      - listitem:
        - link "Random Classic":
          - /url: https://embedpress.wpqa.site/random-classic/
      - listitem:
        - link "Automation Report":
          - /url: https://nahidthenh.github.io/embedpress-playwright-automation/
      - listitem:
        - link "Md. Nahid Hasan (Admin)":
          - /url: https://embedpress.wpqa.site/wp-admin
  - paragraph
  - search "Search form":
    - searchbox "Search input"
    - textbox "Search autocomplete" [disabled]
  - button "Search magnifier":
    - img
  - paragraph
- heading "Gutenberg Flip Book Pdf" [level=1]
- main:
  - article:
    - heading "Enable All Controls – Toolbar Position Bottom" [level=2]:
      - strong: Enable All Control
      - text: s – Toolbar Position Bottom
    - iframe
    - paragraph: Powered By EmbedPress
    - heading "Enable Few Controls Toolbar Position Top" [level=2]
    - iframe
- contentinfo:
  - paragraph: © 2025 EmbedPress Automation Testing WPDeveloper SQA Team
```

# Test source

```ts
   1 | const { test, expect } = require('@playwright/test');
   2 |
   3 | let slug = 'flip-book-pdf';
   4 |
   5 |
   6 | test.describe("Gutenberg Flip Book PDF", () => {
   7 |     test.beforeEach(async ({ page }) => {
   8 |         await page.goto(slug);
   9 |         await page.waitForLoadState('networkidle');
   10 |         await expect(page.getByRole('heading', { name: 'Flip Book Pdf' })).toBeVisible();
   11 |     });
   12 |
   13 |     test('To Enable All Controls', async ({ page }) => {
   14 |         const frameSelector = '#embedpress-pdf-1722764697745 iframe[title="sample_pdf"]';
   15 |         const viewFrame = page.frameLocator(frameSelector).frameLocator('iframe[title="View"]');
   16 |
   17 |         await expect(page.getByRole('heading', { name: 'Enable All Controls – Toolbar' })).toBeVisible();
   18 |
   19 |         const controls = [
   20 |             { name: 'Next page', locator: viewFrame.getByRole('link', { name: 'Next page' }).first() },
   21 |             { name: 'Previous page', locator: viewFrame.getByRole('link', { name: 'Previous page' }) },
   22 |             { name: 'Full screen', locator: viewFrame.getByRole('link', { name: 'Full screen' }) },
   23 |             { name: 'Print', locator: viewFrame.getByRole('link', { name: 'Print' }) },
   24 |             { name: 'Download', locator: viewFrame.getByRole('link', { name: 'Download' }) },
   25 |             { name: 'Table of contents', locator: viewFrame.getByRole('link', { name: 'Table of contents' }) },
   26 |             { name: 'Fit view', locator: viewFrame.getByRole('link', { name: 'Fit view' }) },
   27 |             { name: 'Zoom out', locator: viewFrame.getByRole('link', { name: 'Zoom out' }) },
   28 |             { name: 'Zoom in', locator: viewFrame.getByRole('link', { name: 'Zoom in' }) },
   29 |             { name: 'Smart pan Single page Sounds', locator: viewFrame.locator('li').filter({ hasText: 'Smart pan Single page Sounds' }).getByRole('link') },
   30 |         ];
   31 |
   32 |         for (const control of controls) {
   33 |             await expect(control.locator).toBeVisible();
   34 |         }
   35 |
   36 |         await viewFrame.locator('div:nth-child(5) > div').click();
   37 |         await expect(viewFrame.locator('div:nth-child(5) > div')).toBeVisible();
   38 |         await controls[9].locator.click();
   39 |
   40 |         const extraControls = [
   41 |             { name: 'Single page', locator: viewFrame.getByRole('link', { name: 'Single page' }) },
   42 |             { name: 'Sounds', locator: viewFrame.getByRole('link', { name: 'Sounds' }) },
   43 |         ];
   44 |
   45 |         for (const control of extraControls) {
   46 |             await expect(control.locator).toBeVisible();
   47 |         }
   48 |
   49 |         await expect(page.getByText('Powered By EmbedPress')).toBeVisible();
   50 |
   51 |         await viewFrame.getByRole('link', { name: 'Next page' }).first().click();
   52 |         await viewFrame.getByRole('link', { name: 'Previous page' }).click();
   53 |         await viewFrame.getByRole('link', { name: 'Zoom in' }).click();
   54 |         await viewFrame.getByRole('link', { name: 'Zoom out' }).click();
   55 |         await viewFrame.getByRole('link', { name: 'Table of contents' }).click();
   56 |
   57 |         const downloadPromise = page.waitForEvent('download');
   58 |         await viewFrame.getByRole('link', { name: 'Download' }).click();
   59 |         const download = await downloadPromise;
   60 |
   61 |         await viewFrame.getByRole('link', { name: 'Print' }).click();
   62 |         await controls[9].locator.click();
   63 |         await viewFrame.getByRole('link', { name: 'Single page' }).click();
   64 |         await controls[9].locator.click();
   65 |         await viewFrame.getByRole('link', { name: 'Sounds' }).click();
   66 |     });
   67 |
   68 |     test('To Enable Few Controls', async ({ page }) => {
   69 |         const frameSelector = '#embedpress-pdf-1722764800761 iframe[title="sample_pdf"]';
   70 |         const viewFrame = page.frameLocator(frameSelector).frameLocator('iframe[title="View"]');
   71 |
   72 |         await expect(page.getByRole('heading', { name: 'Enable Few Controls Toolbar' })).toBeVisible();
   73 |
   74 |         const controls = [
   75 |             { name: 'Next page', locator: viewFrame.getByRole('link', { name: 'Next page' }).first() },
   76 |             { name: 'Previous page', locator: viewFrame.getByRole('link', { name: 'Previous page' }) },
   77 |             { name: 'Smart pan Single page Sounds', locator: viewFrame.locator('li').filter({ hasText: 'Smart pan Single page Sounds' }).getByRole('link') },
   78 |             { name: 'Table of contents', locator: viewFrame.getByRole('link', { name: 'Table of contents' }) },
   79 |             { name: 'Zoom in', locator: viewFrame.getByRole('link', { name: 'Zoom in' }) },
   80 |             { name: 'Fit view', locator: viewFrame.getByRole('link', { name: 'Fit view' }) },
   81 |         ];
   82 |
   83 |         for (const control of controls) {
>  84 |             await expect(control.locator).toBeVisible();
      |                                           ^ Error: Timed out 5000ms waiting for expect(locator).toBeVisible()
   85 |         }
   86 |
   87 |         await viewFrame.getByRole('link', { name: 'Next page' }).first().click();
   88 |         await viewFrame.getByRole('link', { name: 'Previous page' }).click();
   89 |         await controls[2].locator.click();
   90 |
   91 |         const extraControls = [
   92 |             { name: 'Single page', locator: viewFrame.getByRole('link', { name: 'Single page' }) },
   93 |             { name: 'Sounds', locator: viewFrame.getByRole('link', { name: 'Sounds' }) },
   94 |         ];
   95 |
   96 |         for (const control of extraControls) {
   97 |             await expect(control.locator).toBeVisible();
   98 |         }
   99 |     });
  100 | });
```